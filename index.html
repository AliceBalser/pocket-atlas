<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#f6efe8">
    <title>Pocket Atlas</title>
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="icon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <div class="grain" aria-hidden="true"></div>
    <header class="topbar">
      <button class="menu-btn" id="menu-toggle" aria-label="Open menu">☰</button>
      <div class="brand">Pocket Atlas</div>
    </header>

    <nav class="side-menu" id="side-menu" aria-hidden="true">
      <div class="side-menu-header">
        <span>Menu</span>
        <button class="ghost" id="menu-close" aria-label="Close menu">Close</button>
      </div>
      <button class="nav-btn" data-target="home">Home</button>
      <button class="nav-btn" data-target="lists">Lists</button>
      <button class="nav-btn" data-target="school">School</button>
      <button class="nav-btn" data-target="habits">Habits</button>
      <button class="nav-btn" data-target="goals">Goals</button>
      <button class="nav-btn" data-target="hobbies">Hobbies</button>
      <button class="nav-btn" data-target="plans">Future Plans</button>
      <button class="nav-btn" data-target="calendar">Calendar</button>
    </nav>
    <div class="menu-scrim" id="menu-scrim" hidden></div>

    <main class="page-wrap">
      <section id="page-home" class="page is-active">
        <div class="hero">
          <div>
            <p class="eyebrow">Your private, phone-only space</p>
            <h1>Welcome to Pocket Atlas.</h1>
            <p class="lead">
              Pocket Atlas lives on your phone. No accounts, no servers, just a clean
              space for your lists and ideas.
            </p>
            <div class="hero-actions">
              <button class="ghost" id="install-btn" hidden>Install App</button>
            </div>
          </div>
        </div>
        <div class="info-grid">
          <div class="card">
            <h3>Offline first</h3>
            <p>Works without internet and keeps data on your phone.</p>
          </div>
          <div class="card">
            <h3>Installable</h3>
            <p>Add it to your home screen like a regular app.</p>
          </div>
          <div class="card">
            <h3>Expandable</h3>
            <p>We will grow this with tags, notes, and more.</p>
          </div>
        </div>
        <p class="install-hint" id="install-hint"></p>

        <div class="card backup-card">
          <h3>Backup</h3>
          <p>Export your data to a JSON file and import it later.</p>
          <div class="hero-actions">
            <button class="ghost" type="button" id="export-data">Export JSON</button>
            <button class="ghost" type="button" id="import-data">Import JSON</button>
            <input id="import-file" type="file" accept="application/json" hidden>
          </div>
        </div>
      </section>

      <section id="page-lists" class="page">
        <div class="todo-header">
          <div>
            <h2>Your Lists</h2>
            <p class="muted">Create lists and open them like notes.</p>
          </div>
          <button class="ghost" data-target="home">Back to Home</button>
        </div>

        <form id="list-form" class="todo-form" autocomplete="off">
          <input id="list-title-input" type="text" placeholder="New list title" maxlength="120">
          <button class="primary" type="submit">Create</button>
        </form>

        <div class="todo-stats" id="list-stats">0 lists</div>

        <ul id="list-list" class="todo-list"></ul>
        <p id="list-empty" class="empty-state">No lists yet. Create your first one.</p>
      </section>

      <section id="page-note" class="page">
        <div class="todo-header">
          <div>
            <h2>List</h2>
            <p class="muted">Write and organize your items.</p>
          </div>
          <button class="ghost" data-target="lists">Back to Lists</button>
        </div>
        <div class="note-toolbar" role="toolbar" aria-label="Note tools">
          <button class="ghost" type="button" id="text-toggle">Text: Normal</button>
          <button class="ghost" type="button" id="text-bold">Bold</button>
          <button class="ghost" type="button" id="insert-square">Square</button>
          <button class="ghost" type="button" id="insert-circle">Circle</button>
        </div>

        <div id="note-editor" class="note-editor" contenteditable="true"></div>
      </section>

      <section id="page-school" class="page">
        <div class="todo-header">
          <div>
            <h2>School</h2>
            <p class="muted">Track semesters, classes, and grades.</p>
          </div>
          <button class="ghost" data-target="home">Back to Home</button>
        </div>

        <div class="school-grid">
          <button class="card school-card" data-semester="3rd-year-winter">
            <h3>3rd Year Winter</h3>
            <p class="muted">Open semester</p>
          </button>
          <button class="card school-card" data-semester="4th-year-fall">
            <h3>4th Year Fall</h3>
            <p class="muted">Open semester</p>
          </button>
          <button class="card school-card" data-semester="4th-year-winter">
            <h3>4th Year Winter</h3>
            <p class="muted">Open semester</p>
          </button>
        </div>
      </section>

      <section id="page-habits" class="page">
        <div class="todo-header">
          <div>
            <h2>Habits</h2>
            <p class="muted">Pick a habit space to focus on.</p>
          </div>
          <button class="ghost" data-target="home">Back to Home</button>
        </div>

        <div class="school-grid">
          <button class="card school-card" data-target="habits-morning">
            <h3>Morning</h3>
            <p class="muted">Bright start routines</p>
          </button>
          <button class="card school-card" data-target="habits-evening">
            <h3>Evening</h3>
            <p class="muted">Calm-down routines</p>
          </button>
          <button class="card school-card" data-target="habits-lavender">
            <h3>Lavender</h3>
            <p class="muted">Long-term rhythms</p>
          </button>
        </div>
      </section>

      <section id="page-habits-morning" class="page habit-page habit-morning">
        <div class="todo-header">
          <div>
            <h2>Morning Habits</h2>
            <p class="muted">Bright start routines.</p>
          </div>
          <button class="ghost" data-target="habits">Back to Habits</button>
        </div>

        <div class="habit-nav">
          <button class="ghost" data-target="habits-morning">Morning</button>
          <button class="ghost" data-target="habits-evening">Evening</button>
          <button class="ghost" data-target="habits-lavender">Lavender</button>
        </div>

        <form class="habit-form" data-category="morning" autocomplete="off">
          <input class="habit-name" type="text" placeholder="Habit name" maxlength="80">
          <select class="habit-schedule">
            <option value="daily">Daily</option>
            <option value="days">Specific days</option>
            <option value="every-days">Every X days</option>
            <option value="every-weeks">Every X weeks</option>
            <option value="days-per-week">X days per week</option>
          </select>
          <div class="habit-days">
            <label><input type="checkbox" data-day="1">Mon</label>
            <label><input type="checkbox" data-day="2">Tue</label>
            <label><input type="checkbox" data-day="3">Wed</label>
            <label><input type="checkbox" data-day="4">Thu</label>
            <label><input type="checkbox" data-day="5">Fri</label>
            <label><input type="checkbox" data-day="6">Sat</label>
            <label><input type="checkbox" data-day="0">Sun</label>
          </div>
          <div class="habit-interval habit-interval-days">
            <span>Every</span>
            <input class="habit-interval-input" type="number" min="1" max="30" value="2">
            <span>days</span>
          </div>
          <div class="habit-interval habit-interval-weeks">
            <span>Every</span>
            <input class="habit-interval-input" type="number" min="1" max="12" value="2">
            <span>weeks</span>
          </div>
          <div class="habit-interval habit-interval-weekly">
            <span>Target</span>
            <input class="habit-interval-input" type="number" min="1" max="7" value="3">
            <span>days / week</span>
          </div>
          <button class="primary" type="submit">Add Habit</button>
        </form>

        <div class="habit-list" id="habit-list-morning"></div>
        <p class="empty-state" id="habit-empty-morning">No habits yet.</p>
      </section>

      <section id="page-habits-evening" class="page habit-page habit-evening">
        <div class="todo-header">
          <div>
            <h2>Evening Habits</h2>
            <p class="muted">Calm-down routines.</p>
          </div>
          <button class="ghost" data-target="habits">Back to Habits</button>
        </div>

        <div class="habit-nav">
          <button class="ghost" data-target="habits-morning">Morning</button>
          <button class="ghost" data-target="habits-evening">Evening</button>
          <button class="ghost" data-target="habits-lavender">Lavender</button>
        </div>

        <form class="habit-form" data-category="evening" autocomplete="off">
          <input class="habit-name" type="text" placeholder="Habit name" maxlength="80">
          <select class="habit-schedule">
            <option value="daily">Daily</option>
            <option value="days">Specific days</option>
            <option value="every-days">Every X days</option>
            <option value="every-weeks">Every X weeks</option>
            <option value="days-per-week">X days per week</option>
          </select>
          <div class="habit-days">
            <label><input type="checkbox" data-day="1">Mon</label>
            <label><input type="checkbox" data-day="2">Tue</label>
            <label><input type="checkbox" data-day="3">Wed</label>
            <label><input type="checkbox" data-day="4">Thu</label>
            <label><input type="checkbox" data-day="5">Fri</label>
            <label><input type="checkbox" data-day="6">Sat</label>
            <label><input type="checkbox" data-day="0">Sun</label>
          </div>
          <div class="habit-interval habit-interval-days">
            <span>Every</span>
            <input class="habit-interval-input" type="number" min="1" max="30" value="2">
            <span>days</span>
          </div>
          <div class="habit-interval habit-interval-weeks">
            <span>Every</span>
            <input class="habit-interval-input" type="number" min="1" max="12" value="2">
            <span>weeks</span>
          </div>
          <div class="habit-interval habit-interval-weekly">
            <span>Target</span>
            <input class="habit-interval-input" type="number" min="1" max="7" value="3">
            <span>days / week</span>
          </div>
          <button class="primary" type="submit">Add Habit</button>
        </form>

        <div class="habit-list" id="habit-list-evening"></div>
        <p class="empty-state" id="habit-empty-evening">No habits yet.</p>
      </section>

      <section id="page-habits-lavender" class="page habit-page habit-lavender">
        <div class="todo-header">
          <div>
            <h2>Lavender Habits</h2>
            <p class="muted">Long-term rhythms.</p>
          </div>
          <button class="ghost" data-target="habits">Back to Habits</button>
        </div>

        <div class="habit-nav">
          <button class="ghost" data-target="habits-morning">Morning</button>
          <button class="ghost" data-target="habits-evening">Evening</button>
          <button class="ghost" data-target="habits-lavender">Lavender</button>
        </div>

        <form class="habit-form" data-category="lavender" autocomplete="off">
          <input class="habit-name" type="text" placeholder="Habit name" maxlength="80">
          <select class="habit-schedule">
            <option value="daily">Daily</option>
            <option value="days">Specific days</option>
            <option value="every-days">Every X days</option>
            <option value="every-weeks">Every X weeks</option>
            <option value="days-per-week">X days per week</option>
          </select>
          <div class="habit-days">
            <label><input type="checkbox" data-day="1">Mon</label>
            <label><input type="checkbox" data-day="2">Tue</label>
            <label><input type="checkbox" data-day="3">Wed</label>
            <label><input type="checkbox" data-day="4">Thu</label>
            <label><input type="checkbox" data-day="5">Fri</label>
            <label><input type="checkbox" data-day="6">Sat</label>
            <label><input type="checkbox" data-day="0">Sun</label>
          </div>
          <div class="habit-interval habit-interval-days">
            <span>Every</span>
            <input class="habit-interval-input" type="number" min="1" max="30" value="2">
            <span>days</span>
          </div>
          <div class="habit-interval habit-interval-weeks">
            <span>Every</span>
            <input class="habit-interval-input" type="number" min="1" max="12" value="2">
            <span>weeks</span>
          </div>
          <div class="habit-interval habit-interval-weekly">
            <span>Target</span>
            <input class="habit-interval-input" type="number" min="1" max="7" value="3">
            <span>days / week</span>
          </div>
          <button class="primary" type="submit">Add Habit</button>
        </form>

        <div class="habit-list" id="habit-list-lavender"></div>
        <p class="empty-state" id="habit-empty-lavender">No habits yet.</p>
      </section>

      <section id="page-goals" class="page">
        <div class="todo-header">
          <div>
            <h2>Goals</h2>
            <p class="muted">Create goals and keep notes.</p>
          </div>
          <button class="ghost" data-target="home">Back to Home</button>
        </div>

        <form id="goal-form" class="goal-form" autocomplete="off">
          <input id="goal-title" type="text" placeholder="Goal title" maxlength="120">
          <input id="goal-target" type="date">
          <button class="primary" type="submit">Add Goal</button>
        </form>

        <div class="goal-list" id="goal-list"></div>
        <p class="empty-state" id="goal-empty">No goals yet.</p>
      </section>

      <section id="page-hobbies" class="page">
        <div class="todo-header">
          <div>
            <h2>Hobbies</h2>
            <p class="muted">Track hobbies with notes and ratings.</p>
          </div>
          <button class="ghost" data-target="home">Back to Home</button>
        </div>

        <form id="hobby-form" class="goal-form hobby-form" autocomplete="off">
          <input id="hobby-title" type="text" placeholder="Hobby name" maxlength="120">
          <button class="primary" type="submit">Add Hobby</button>
        </form>

        <div class="hobby-list" id="hobby-list"></div>
        <p class="empty-state" id="hobby-empty">No hobbies yet.</p>
      </section>

      <section id="page-plans" class="page">
        <div class="todo-header">
          <div>
            <h2>Future Plans</h2>
            <p class="muted">Build a tree of ideas and expand them.</p>
          </div>
          <button class="ghost" data-target="home">Back to Home</button>
        </div>

        <form id="plan-form" class="goal-form plan-form" autocomplete="off">
          <input id="plan-title" type="text" placeholder="New idea" maxlength="120">
          <button class="primary" type="submit">Add Root</button>
          <button class="ghost" type="button" id="plan-add-child">Add Child</button>
        </form>

        <div class="plan-layout">
          <div>
            <ul class="plan-tree" id="plan-tree"></ul>
            <p class="empty-state" id="plan-empty">No plans yet.</p>
          </div>

          <div class="plan-editor">
            <div class="plan-editor-title" id="plan-selected-label">Select a node to edit</div>
            <input id="plan-editor-title" type="text" placeholder="Node title">
            <textarea id="plan-editor-notes" placeholder="Write details..."></textarea>
          </div>
        </div>
      </section>

      <section id="page-semester" class="page">
        <div class="todo-header">
          <div>
            <h2 id="semester-title">Semester</h2>
            <p class="muted">Add up to 6 classes.</p>
          </div>
          <div class="semester-actions">
            <button class="ghost" id="semester-lock" type="button">Lock In</button>
            <button class="ghost" data-target="school">Back to School</button>
          </div>
        </div>

        <form id="class-form" class="class-form" autocomplete="off">
          <input id="class-code" type="text" placeholder="Class code (ex: BIO 220)" maxlength="20">
          <input id="class-name" type="text" placeholder="Class name" maxlength="60">
          <input id="class-crn" type="text" placeholder="CRN" maxlength="12">
          <button class="primary" type="submit">Add Class</button>
        </form>

        <div class="todo-stats" id="class-stats">0 / 6 classes</div>

        <div class="table-wrap">
          <table class="class-table">
            <thead>
              <tr>
                <th>Code</th>
                <th>Name</th>
                <th>Grade</th>
                <th>Weight</th>
                <th>CRN</th>
                <th></th>
              </tr>
            </thead>
            <tbody id="class-table-body"></tbody>
          </table>
        </div>
        <p id="class-empty" class="empty-state">No classes yet. Add one above.</p>
      </section>

      <section id="page-class" class="page">
        <div class="todo-header">
          <div>
            <h2 id="class-title">Class</h2>
            <p class="muted" id="class-subtitle">Assignments and grades.</p>
          </div>
          <button class="ghost" data-target="semester">Back to Semester</button>
        </div>

        <div class="class-summary">
          <div>
            <div class="summary-label">Grade so far</div>
            <div class="summary-value" id="class-grade">--</div>
          </div>
          <div>
            <div class="summary-label">Weight so far</div>
            <div class="summary-value" id="class-weight">0%</div>
          </div>
        </div>

        <form id="assignment-form" class="assignment-form" autocomplete="off">
          <input id="assignment-name" type="text" placeholder="Assignment name" maxlength="80">
          <input id="assignment-weight" type="number" inputmode="decimal" min="0" max="100" step="0.1" placeholder="Weight %">
          <input id="assignment-grade" type="number" inputmode="decimal" min="0" max="100" placeholder="Grade %">
          <button class="primary" type="submit">Add</button>
        </form>

        <div class="table-wrap">
          <table class="class-table">
            <thead>
              <tr>
                <th>Assignment</th>
                <th>Weight %</th>
                <th>Grade %</th>
                <th></th>
              </tr>
            </thead>
            <tbody id="assignment-table-body"></tbody>
          </table>
        </div>
        <p id="assignment-empty" class="empty-state">No assignments yet.</p>
      </section>

      <section id="page-calendar" class="page">
        <div class="todo-header">
          <div>
            <h2>Weekly Calendar</h2>
            <p class="muted">Mon–Fri · 8 AM–8 PM</p>
          </div>
          <button class="ghost" data-target="home">Back to Home</button>
        </div>

        <div class="calendar-controls">
          <button class="ghost" type="button" id="calendar-prev">Prev</button>
          <div class="calendar-range" id="calendar-range">Week</div>
          <button class="ghost" type="button" id="calendar-next">Next</button>
        </div>

        <div class="calendar-grid" id="calendar-grid"></div>

        <div class="calendar-modal" id="calendar-modal" hidden>
          <div class="calendar-modal-card">
            <div class="calendar-modal-header">
              <h3>New Event</h3>
              <button class="ghost" type="button" id="calendar-close">Close</button>
            </div>
            <form id="calendar-form" autocomplete="off">
              <input id="calendar-title" type="text" placeholder="Event title" maxlength="120">
              <div class="calendar-row">
                <div class="calendar-date" id="calendar-date-label">Date</div>
              </div>
              <div class="calendar-row">
                <label>
                  Start
                  <input id="calendar-start" type="time">
                </label>
                <label>
                  End
                  <input id="calendar-end" type="time">
                </label>
              </div>
              <textarea id="calendar-notes" placeholder="Notes..."></textarea>
              <button class="primary" type="submit">Save Event</button>
            </form>
          </div>
        </div>
      </section>
    </main>

    <script src="app.js" defer></script>
  </body>
</html>
